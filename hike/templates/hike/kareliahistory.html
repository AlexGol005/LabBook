{% extends 'main/superbasepersonal.html' %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{#название страницы#}
{#стандартная#}
{% block title %}
{{title}} 
{% endblock %}
{#конец названия страницы#}


<script src="https://code.highcharts.com/highcharts.js"> 
<script src="https://code.highcharts.com/modules/exporting.js"> 
<script src="https://code.highcharts.com/modules/export-data.js">    
{% block content %}
<div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto" class="border"></div>

   <script>
      _categories = {{categories|safe}};
      _values = {{values|safe}};
      
      Highcharts.chart('container', {
	  chart: {
              type: 'column'
	  },
	  title: {
              text: 'Sales in Thousand per Engine Capacity'
	  },
	  subtitle: {
              text: ')'
	  },
	  xAxis: {
              categories:_categories,
              crosshair: true
	  },
	  yAxis: {
              min: 0,
              title: {
		  text: 'Sales in thousands'
              }
	  },
	  tooltip: {
              headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
              pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
		  '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
              footerFormat: '</table>',
              shared: true,
              useHTML: true
	  },
	  plotOptions: {
              column: {
		  pointPadding: 0.2,
		  borderWidth: 0
        }
	  },
	  series: [{
              name: 'Engine Capacity',
              data: _values
	      
	  }]
      });
      </script>
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

{% autoescape off %}

<div class="container">
        <center>  <h3><a href="/personal/"> Персональный раздел </a></h3>     </center>
     <br>
<div class="row">
        <div class="col-7">
            <center>  <h3><a href="/hike/kareliahistory"> История Карелии и Карельского перешейка </a></h3>     </center>
           <br>
{#основная таблица#}

{% for obj in objects %}

<table class="table table-bordered flexy">
    <tbody>
    <tr>
        <td > 
             <p><b>№</b>{{ obj.pk }}</p>
           <p><b></b>{{ obj.title }}</p>
          <p><b>Текст:&nbsp;</b>{{ obj.text }}</p>
          <p>

            
            <b>Ссылка:&nbsp;</b> 
                {% if obj.vk %}
                <a href="{{ obj.vk}}"  target="blank" >
                ссылка
                </a>
                {% else  %}
                отсутствует
                {% endif %}
            <br> </p>

       
        </td>
    </tr>
    </tbody>
</table>
 {% endfor %}
{#конец основной таблицы#}

{#пагинация#}
{# стандартная #}
{% if is_paginated %}
    {% if page_obj.has_previous %}
       <a href="?page=1" class="btn btn-outline-primary mt-1">Начало</a>
       <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-outline-primary mt-1">Предыдущая</a>
  {% endif %}
    {% if page_obj.has_next %}
       <a href="?page={{ page_obj.next_page_number }}" class="btn btn-outline-primary mt-1">Следующая</a>
       <a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-outline-primary mt-1">Последняя</a>
  {% endif %}
  {% endif %}
{#конец пагинации#}
</div>

  <div class="col">

       <center>   <h3>Фильтры</h3> </center>
                {#форма для поиска по полям #}
{#стандартная#}
    <form action="/hike/kareliahistory/searchresult/" method="GET">
                    {% csrf_token %}
                    {% crispy form %}
                </form>
        </div>
  
</div>
</div>
{% endautoescape %}
{% endblock %}
